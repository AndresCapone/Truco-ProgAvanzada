{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\acapo\\\\Desktop\\\\Programacion Avanzada\\\\Proyecto final - Truco\\\\CardGame_Front-End\\\\src\\\\Game\\\\JoinGame.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { Alert, Button, Col, Container, Form, Row } from \"react-bootstrap\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate } from \"react-router-dom\";\nimport { joinGame } from \"./gameService\";\nimport request from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function JoinGame() {\n  _s();\n\n  var _errors$gameNumber;\n\n  const history = useNavigate();\n  const [requestError, setRequestError] = useState(undefined);\n  const {\n    formState: {\n      errors,\n      isValid\n    },\n    register,\n    handleSubmit,\n    setValue\n  } = useForm();\n\n  const onSubmit = async data => {\n    try {\n      const rta = await joinGame(data.gameNumber, data.gameTeam);\n      console.log(rta);\n\n      if (rta.status != 200) {\n        let reqError = rta.data;\n        setRequestError(reqError.message);\n      } else {\n        history('/game', {\n          state: rta.data\n        });\n      }\n    } catch (error) {\n      if (request.isAxiosError(error)) {\n        setRequestError(error.message);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"mt-5 pt-5\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      className: \"pt-3 px-4 py-4 bg-dark\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center text-white\",\n        children: \"Unirse a un Juego\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        className: \"mt-5\",\n        onSubmit: handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formGameNumber\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            className: \"text-white\",\n            children: \"Numero del Juego\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"name\",\n            placeholder: \"Numero del Juego\",\n            className: \"text-center\",\n            ...register(\"gameNumber\", {\n              required: \"*Debe ingresar el numero del juego\",\n              pattern: {\n                value: /[a-zA-Z0-9_-]{4,}[#][0-9]{1,3}?$/,\n                message: \"Debe ingresar el numero de partida de la forma \\\"nombre del creador de la partida\\\"#\\\"numero de partida\\\"\"\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this), errors.gameNumber && /*#__PURE__*/_jsxDEV(Form.Text, {\n            className: \"text-danger\",\n            children: (_errors$gameNumber = errors.gameNumber) === null || _errors$gameNumber === void 0 ? void 0 : _errors$gameNumber.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              className: \"my-4 btn  bg-white text-black w-100 rounded-pill\",\n              type: \"submit\",\n              onClick: () => setValue(\"gameTeam\", \"us\"),\n              children: \"Unirse al equipo \\\"nosotros\\\"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              className: \"my-4 btn  bg-white text-black w-100 rounded-pill\",\n              type: \"submit\",\n              onClick: () => setValue(\"gameTeam\", \"them\"),\n              children: \"Unirse al equipo \\\"ellos\\\"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), requestError != undefined && /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        children: requestError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n}\n\n_s(JoinGame, \"xWQNUM+Hzm6hOPjk3NV7TCX7R/0=\", false, function () {\n  return [useNavigate, useForm];\n});\n\n_c = JoinGame;\n\nvar _c;\n\n$RefreshReg$(_c, \"JoinGame\");","map":{"version":3,"names":["useState","Alert","Button","Col","Container","Form","Row","useForm","useNavigate","joinGame","request","JoinGame","history","requestError","setRequestError","undefined","formState","errors","isValid","register","handleSubmit","setValue","onSubmit","data","rta","gameNumber","gameTeam","console","log","status","reqError","message","state","error","isAxiosError","required","pattern","value"],"sources":["C:/Users/acapo/Desktop/Programacion Avanzada/Proyecto final - Truco/CardGame_Front-End/src/Game/JoinGame.tsx"],"sourcesContent":["import { useState } from \"react\"\r\nimport { Alert, Button, Col, Container, Form, Row } from \"react-bootstrap\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport { RequestError } from \"../User/userService\"\r\nimport { joinGame } from \"./gameService\"\r\nimport request from \"axios\";\r\n\r\n\r\n\r\n\r\nexport default function JoinGame() {\r\n    const history = useNavigate()\r\n    const [requestError, setRequestError] = useState<string | undefined>(undefined)\r\n    const { formState: { errors, isValid }, register, handleSubmit,setValue } = useForm<JoinForm>();\r\n\r\n    type JoinForm = {\r\n        gameNumber: string,        \r\n        gameTeam: string\r\n    }\r\n\r\n    const onSubmit = async (data: JoinForm) => {               \r\n        try{\r\n            const rta = await joinGame(data.gameNumber,data.gameTeam)\r\n\r\n            console.log(rta)\r\n\r\n            if(rta.status != 200){                    \r\n                let reqError = rta.data as RequestError\r\n                setRequestError(reqError.message)                \r\n            }else{\r\n                history('/game',{state: rta.data})\r\n            }\r\n        }catch(error:any){\r\n            if (request.isAxiosError(error)){\r\n                    setRequestError(error.message)                    \r\n                }            \r\n        }\r\n    } \r\n\r\n    return (\r\n\r\n        <Container className=\"mt-5 pt-5\">\r\n            <Container className=\"pt-3 px-4 py-4 bg-dark\">\r\n                <h2 className=\"text-center text-white\">Unirse a un Juego</h2>\r\n                <Form className=\"mt-5\" onSubmit={handleSubmit(onSubmit)}>\r\n                    <Form.Group className=\"mb-3\" controlId=\"formGameNumber\">\r\n                        <Form.Label className=\"text-white\">Numero del Juego</Form.Label>\r\n                        <Form.Control\r\n                            type=\"name\"\r\n                            placeholder=\"Numero del Juego\"\r\n                            className=\"text-center\"\r\n                            {...register(\"gameNumber\", { required: \"*Debe ingresar el numero del juego\",\r\n                                pattern: {\r\n                                    value: /[a-zA-Z0-9_-]{4,}[#][0-9]{1,3}?$/,\r\n                                    message: \"Debe ingresar el numero de partida de la forma \\\"nombre del creador de la partida\\\"#\\\"numero de partida\\\"\"\r\n                                }})} />\r\n                        {errors.gameNumber && (\r\n                            <Form.Text className=\"text-danger\">{errors.gameNumber?.message}</Form.Text>\r\n                        )}\r\n                    </Form.Group>\r\n                    <Row>\r\n                        <Col>\r\n                            <Button className=\"my-4 btn  bg-white text-black w-100 rounded-pill\" type=\"submit\" onClick={() => setValue(\"gameTeam\",\"us\")}>\r\n                                Unirse al equipo \"nosotros\"\r\n                            </Button>\r\n                        </Col>\r\n                        <Col>\r\n                            <Button className=\"my-4 btn  bg-white text-black w-100 rounded-pill\" type=\"submit\" onClick={() => setValue(\"gameTeam\",\"them\")}>\r\n                                Unirse al equipo \"ellos\"\r\n                            </Button>\r\n                        </Col>\r\n                    </Row>                    \r\n                </Form>\r\n                {requestError != undefined && (\r\n                    <Alert variant=\"danger\">\r\n                        {requestError}\r\n                    </Alert>                    \r\n                )}\r\n            </Container>\r\n        </Container>\r\n\r\n                \r\n    )    \r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}