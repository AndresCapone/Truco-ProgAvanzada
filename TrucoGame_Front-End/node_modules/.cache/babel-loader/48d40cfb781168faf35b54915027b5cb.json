{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\acapo\\\\Desktop\\\\Programacion Avanzada\\\\Proyecto final - Truco\\\\CardGame_Front-End\\\\src\\\\User\\\\Login.tsx\",\n    _s = $RefreshSig$();\n\nimport \"./formStyles.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { Alert, Button, Form } from \"react-bootstrap\";\nimport { login } from \"./userService\";\nimport request from \"axios\";\nimport { errorHandler } from \"../helpers/errorHandler\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n\n  const history = useNavigate();\n  const [data, setData] = useState();\n  const [requestError, setRequestError] = useState(undefined);\n  const {\n    formState: {\n      errors,\n      isValid\n    },\n    register,\n    handleSubmit\n  } = useForm();\n\n  const onSubmit = async data => {\n    setData(data);\n    let rta;\n\n    if (isValid) {\n      try {\n        rta = await login({\n          username: data.username,\n          password: data.password\n        });\n        console.log(rta);\n\n        if (rta.status != 200) {\n          setRequestError(errorHandler(rta));\n        } else {\n          history('/');\n        }\n      } catch (error) {\n        if (request.isAxiosError(error)) {\n          error;\n          setRequestError(error.message);\n        }\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-5 pt-5 px-5 row justify-content-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pt-3 px-4 bg-dark col-sm-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center text-white\",\n        children: \"Ingresar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        className: \"mt-5\",\n        onSubmit: handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formUsername\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            className: \"text-white\",\n            children: \"Nombre de Usuario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"name\",\n            placeholder: \"Nombre\",\n            className: \"text-center\",\n            ...register(\"username\", {\n              required: \"*Debe ingresar su nombre de usuario\"\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this), errors.username && /*#__PURE__*/_jsxDEV(Form.Text, {\n            className: \"text-danger\",\n            children: errors.username.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formPassword\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            className: \"text-white\",\n            children: \"Contrase\\xF1a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            placeholder: \"Contrase\\xF1a\",\n            className: \"text-center\",\n            ...register(\"password\", {\n              required: \"*Debe ingresar su contrase単a\"\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), errors.password && /*#__PURE__*/_jsxDEV(Form.Text, {\n            className: \"text-danger\",\n            children: errors.password.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"my-4 btn  bg-white text-black w-100 rounded-pill\",\n          type: \"submit\",\n          children: \"Ingresar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), requestError != undefined && /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        children: requestError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"svA2XCK/7CXAoeQd5lMpU01g2eE=\", false, function () {\n  return [useNavigate, useForm];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useNavigate","useState","useForm","Alert","Button","Form","login","request","errorHandler","Login","history","data","setData","requestError","setRequestError","undefined","formState","errors","isValid","register","handleSubmit","onSubmit","rta","username","password","console","log","status","error","isAxiosError","message","required"],"sources":["C:/Users/acapo/Desktop/Programacion Avanzada/Proyecto final - Truco/CardGame_Front-End/src/User/Login.tsx"],"sourcesContent":["import \"./formStyles.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Alert, Button, Form, FormGroup } from \"react-bootstrap\";\r\nimport { login, Data, RequestError } from \"./userService\";\r\nimport { AxiosError } from \"axios\";\r\nimport request from \"axios\";\r\nimport { errorHandler } from \"../helpers/errorHandler\";\r\n\r\nexport default function Login() {\r\n    const history = useNavigate()\r\n    const [data, setData] = useState<User>()\r\n    const [requestError, setRequestError] = useState<string | undefined>(undefined)\r\n    const { formState: { errors, isValid }, register, handleSubmit } = useForm<User>();\r\n    type User = {\r\n        username: string;\r\n        password: string;\r\n    }\r\n\r\n\r\n    const onSubmit = async (data: User) => {\r\n        setData(data)\r\n        let rta: Data\r\n        if (isValid) {\r\n            try {                \r\n                rta = await login({ username: data.username, password: data.password })\r\n                console.log(rta)\r\n                if(rta.status != 200){                                        \r\n                    setRequestError(errorHandler(rta))\r\n                }else{\r\n                    history('/')\r\n                }                                             \r\n                \r\n            } catch(error: any) {                \r\n                if (request.isAxiosError(error)){\r\n                    error as AxiosError\r\n                    setRequestError(error.message)          \r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\n    return (\r\n        <div className=\"mt-5 pt-5 px-5 row justify-content-center\">\r\n            <div className=\"pt-3 px-4 bg-dark col-sm-6\">\r\n                <h2 className=\"text-center text-white\">Ingresar</h2>\r\n                <Form className=\"mt-5\" onSubmit={handleSubmit(onSubmit)}>\r\n                    <Form.Group className=\"mb-3\" controlId=\"formUsername\">\r\n                        <Form.Label className=\"text-white\">Nombre de Usuario</Form.Label>\r\n                        <Form.Control\r\n                            type=\"name\"\r\n                            placeholder=\"Nombre\"\r\n                            className=\"text-center\"\r\n                            {...register(\"username\", { required: \"*Debe ingresar su nombre de usuario\" })} />\r\n                        {errors.username && (\r\n                            <Form.Text className=\"text-danger\">{errors.username.message}</Form.Text>\r\n                        )}\r\n                    </Form.Group>\r\n                    <Form.Group className=\"mb-3\" controlId=\"formPassword\">\r\n                        <Form.Label className=\"text-white\">Contrase単a</Form.Label>\r\n                        <Form.Control\r\n                            type=\"password\"\r\n                            placeholder=\"Contrase単a\"\r\n                            className=\"text-center\"\r\n                            {...register(\"password\", { required: \"*Debe ingresar su contrase単a\" })} />\r\n                        {errors.password && (\r\n                            <Form.Text className=\"text-danger\">{errors.password.message}</Form.Text>\r\n                        )}\r\n                    </Form.Group>\r\n                    <Button className=\"my-4 btn  bg-white text-black w-100 rounded-pill\" type=\"submit\">Ingresar</Button>                    \r\n                </Form>\r\n                {requestError != undefined && (\r\n                    <Alert variant=\"danger\">\r\n                        {requestError}\r\n                    </Alert>                    \r\n                )}                \r\n            </div>            \r\n        </div>\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}